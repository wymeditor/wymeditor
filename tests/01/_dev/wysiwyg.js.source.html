<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">

<html>

<head>
    <title>PHPXref.com / IceBB 0.9.1 :  /jscripts/wysiwyg.js source</title>
    <link rel="stylesheet" href="../sample.css" type="text/css">
    <link rel="stylesheet" href="../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>

<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">

<table class="pagetitle" width="100%">
	
	<tr>
        <td align="left" width="25%" class="pagetitle">
        	[ <a href="http://phpxref.com/forum/" target="_top">PHPXref.com / forum</a> ]
	    </td>
	    <td align="center" width="50%" class="pagetitle">
	    	[ PHPXref generated on Sat Feb  3 18:40:49 2007 ]
        </td>
        <td align="right" width="25%" class="pagetitle">
        	[ <a href="http://icebb.net/" target="_top">IceBB 0.9.1</a> ]
        </td>
    </tr>
	
	<tr>
    	<td colspan="3" align="center">
    		[ <a href="../index.html">Index</a> ] &nbsp;&nbsp;&nbsp; 
    		[ <a href="../_classes/index.html">Classes</a> ] &nbsp;&nbsp;&nbsp; 
    		[ <a href="../_functions/index.html">Functions</a> ] &nbsp;&nbsp;&nbsp; 
    		[ <a href="../_variables/index.html">Variables</a> ] &nbsp;&nbsp;&nbsp;
    		[ <a href="../_constants/index.html">Constants</a> ] &nbsp;&nbsp;&nbsp;
    		[ <a href="../_stats.html">Statistics</a> ]
    	</td>
    </tr>	
	
</table>

<!-- Generated by PHPXref 0.7 at Sat Feb  3 18:40:49 2007 -->
<!-- PHPXref (c) 2000-2007 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html.gz';
relbase='../';
subdir='jscripts';
filename='wysiwyg.js.source.html.gz';
cookiekey='icebb';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../nav.html.gz" target="_top">Show Explorer</a> ]
[ <a href="index.html.gz" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../_classes/index.html.gz">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../_functions/index.html.gz">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../_variables/index.html.gz">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../_constants/index.html.gz">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../_tables/index.html.gz">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html.gz">/jscripts/</a> -> <a href="wysiwyg.js.html.gz">wysiwyg.js</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="wysiwyg.js.html.gz">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  <span class="comment">/********************************************</span>
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">IceBB Editor Javascript</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">(c) 2005 The IceBB Team</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">*********************************************/</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// This is sort of based off widgEditor, so</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// it's GPL if you want to use it</span>
<a name="l7"><span class="linenum">   7</span></a>  
<a name="l8"><span class="linenum">   8</span></a>  function <a class="function" onClick="logFunction('weditor')" href="../_functions/weditor.html.gz" onMouseOver="funcPopup(event,'weditor')">weditor</a>(obj)
<a name="l9"><span class="linenum">   9</span></a>  {
<a name="l10"><span class="linenum">  10</span></a>      var _self                    = this;
<a name="l11"><span class="linenum">  11</span></a>  
<a name="l12"><span class="linenum">  12</span></a>      this.wysiwyg                = true;
<a name="l13"><span class="linenum">  13</span></a>      this.isIE                    = false;
<a name="l14"><span class="linenum">  14</span></a>      if(document.all)
<a name="l15"><span class="linenum">  15</span></a>      {
<a name="l16"><span class="linenum">  16</span></a>          this.isIE                = true;
<a name="l17"><span class="linenum">  17</span></a>      }
<a name="l18"><span class="linenum">  18</span></a>      
<a name="l19"><span class="linenum">  19</span></a>      this.opentags                = new Array();
<a name="l20"><span class="linenum">  20</span></a>      
<a name="l21"><span class="linenum">  21</span></a>      if(!(typeof(document.designMode)=='string' &amp;&amp; (document.all || document.designMode=='off')))
<a name="l22"><span class="linenum">  22</span></a>      {
<a name="l23"><span class="linenum">  23</span></a>          alert(&quot;The WYSIWYG editor only works in Internet Explorer, Firefox (or other Mozilla browsers), and Opera. Safari and other browsers are not supported. Go to your User Control Center and select either the 'Basic' or 'Enhanced' editors.&quot;);
<a name="l24"><span class="linenum">  24</span></a>          return;
<a name="l25"><span class="linenum">  25</span></a>      }
<a name="l26"><span class="linenum">  26</span></a>      
<a name="l27"><span class="linenum">  27</span></a>  <span class="comment">    // remove textarea</span>
<a name="l28"><span class="linenum">  28</span></a>      this.wtextarea                = obj;
<a name="l29"><span class="linenum">  29</span></a>      this.wtextarea.style.visibility= 'hidden';
<a name="l30"><span class="linenum">  30</span></a>      this.weditor_id                = this.wtextarea.id;
<a name="l31"><span class="linenum">  31</span></a>      
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment">    // create container</span>
<a name="l33"><span class="linenum">  33</span></a>      this.wcontainer                = document.createElement('div');
<a name="l34"><span class="linenum">  34</span></a>      this.wcontainer.id            = this.wtextarea.id+&quot;-wcontainer&quot;;
<a name="l35"><span class="linenum">  35</span></a>      this.wcontainer.className    = 'weditor-container';
<a name="l36"><span class="linenum">  36</span></a>      
<a name="l37"><span class="linenum">  37</span></a>  <span class="comment">    // create iframe</span>
<a name="l38"><span class="linenum">  38</span></a>      this.wiframe                = document.createElement('iframe');
<a name="l39"><span class="linenum">  39</span></a>      this.wiframe.id                = this.wtextarea.id+&quot;-wiframe&quot;;
<a name="l40"><span class="linenum">  40</span></a>      this.wiframe.className        = 'weditor-iframe';
<a name="l41"><span class="linenum">  41</span></a>      
<a name="l42"><span class="linenum">  42</span></a>  <span class="comment">    // create hidden input field</span>
<a name="l43"><span class="linenum">  43</span></a>      this.winput                    = document.createElement('input');
<a name="l44"><span class="linenum">  44</span></a>      this.winput.type            = 'hidden';
<a name="l45"><span class="linenum">  45</span></a>      this.winput.id                = this.wtextarea.id;
<a name="l46"><span class="linenum">  46</span></a>      this.winput.name            = this.wtextarea.name;
<a name="l47"><span class="linenum">  47</span></a>      this.winput.value            = this.wtextarea.value;
<a name="l48"><span class="linenum">  48</span></a>      
<a name="l49"><span class="linenum">  49</span></a>  <span class="comment">    // and another one</span>
<a name="l50"><span class="linenum">  50</span></a>      hidden_field                = document.createElement('input');
<a name="l51"><span class="linenum">  51</span></a>      hidden_field.type            = 'hidden';
<a name="l52"><span class="linenum">  52</span></a>      hidden_field.name            = 'wysiwyg';
<a name="l53"><span class="linenum">  53</span></a>      hidden_field.value            = '1';
<a name="l54"><span class="linenum">  54</span></a>      this.wcontainer.appendChild(hidden_field);
<a name="l55"><span class="linenum">  55</span></a>      
<a name="l56"><span class="linenum">  56</span></a>      
<a name="l57"><span class="linenum">  57</span></a>  <span class="comment">    // prepare textarea...</span>
<a name="l58"><span class="linenum">  58</span></a>      this.wtextarea.name           += this.wtextarea.name+'-wtextarea';
<a name="l59"><span class="linenum">  59</span></a>      this.wtextarea.id           += this.wtextarea.id+'-wtextarea';
<a name="l60"><span class="linenum">  60</span></a>      
<a name="l61"><span class="linenum">  61</span></a>  <span class="comment">    // ...set up the toolbar, smilies...</span>
<a name="l62"><span class="linenum">  62</span></a>      this.build_toolbar();
<a name="l63"><span class="linenum">  63</span></a>      
<a name="l64"><span class="linenum">  64</span></a>  <span class="comment">    // ...and implement</span>
<a name="l65"><span class="linenum">  65</span></a>      this.wcontainer.appendChild(this.wiframe);
<a name="l66"><span class="linenum">  66</span></a>      this.wcontainer.appendChild(this.winput);
<a name="l67"><span class="linenum">  67</span></a>      this.wcontainer.style.visibility='hidden';
<a name="l68"><span class="linenum">  68</span></a>      
<a name="l69"><span class="linenum">  69</span></a>      this.wtextarea.parentNode.replaceChild(this.wcontainer,this.wtextarea);
<a name="l70"><span class="linenum">  70</span></a>      
<a name="l71"><span class="linenum">  71</span></a>      this.insert_text(this.wtextarea.value);
<a name="l72"><span class="linenum">  72</span></a>      this.init_editor();
<a name="l73"><span class="linenum">  73</span></a>      this.add_on_submit();
<a name="l74"><span class="linenum">  74</span></a>  }
<a name="l75"><span class="linenum">  75</span></a>  
<a name="l76"><span class="linenum">  76</span></a>  weditor.prototype.build_toolbar = function()
<a name="l77"><span class="linenum">  77</span></a>  {
<a name="l78"><span class="linenum">  78</span></a>      var _self                    = this;
<a name="l79"><span class="linenum">  79</span></a>      
<a name="l80"><span class="linenum">  80</span></a>      this.toolbaritems            = new Array();
<a name="l81"><span class="linenum">  81</span></a>      
<a name="l82"><span class="linenum">  82</span></a>      parent                        = <a class="function" onClick="logFunction('_getbyid')" href="../_functions/_getbyid.html.gz" onMouseOver="funcPopup(event,'_getbyid')">_getbyid</a>('editgroup');
<a name="l83"><span class="linenum">  83</span></a>      objects                        = document.getElementsByTagName('a');
<a name="l84"><span class="linenum">  84</span></a>      for(i=0;i&lt;objects.length;i++)
<a name="l85"><span class="linenum">  85</span></a>      {
<a name="l86"><span class="linenum">  86</span></a>          tehobj                    = objects[i];
<a name="l87"><span class="linenum">  87</span></a>          that_one_there            = tehobj.className;
<a name="l88"><span class="linenum">  88</span></a>  <span class="comment">        //tehobj.onclick            = eval(&quot;function(){_self.doCommand('&quot;+that_one_there+&quot;');return false}&quot;);</span>
<a name="l89"><span class="linenum">  89</span></a>  <span class="comment">        //tehobj.onclick            = eval(&quot;_self.doCommand('&quot;+that_one_there+&quot;')&quot;);</span>
<a name="l90"><span class="linenum">  90</span></a>          if(typeof that_one_there!= 'undefined' &amp;&amp; that_one_there!='')
<a name="l91"><span class="linenum">  91</span></a>          {
<a name="l92"><span class="linenum">  92</span></a>              tehobj.onclick        = eval(&quot;function(){_self.doCommand('&quot;+that_one_there+&quot;');return false}&quot;);
<a name="l93"><span class="linenum">  93</span></a>              tehobj.id            = that_one_there+'-tag';
<a name="l94"><span class="linenum">  94</span></a>              tehobj.className    = '';
<a name="l95"><span class="linenum">  95</span></a>              this.toolbaritems[this.toolbaritems.length+1]= that_one_there;
<a name="l96"><span class="linenum">  96</span></a>          }
<a name="l97"><span class="linenum">  97</span></a>      }
<a name="l98"><span class="linenum">  98</span></a>      
<a name="l99"><span class="linenum">  99</span></a>      fontfam                        = <a class="function" onClick="logFunction('_getbyid')" href="../_functions/_getbyid.html.gz" onMouseOver="funcPopup(event,'_getbyid')">_getbyid</a>('font-family');
<a name="l100"><span class="linenum"> 100</span></a>      fontfam.onchange            = eval(&quot;function(){_self.doCommand('fontname',this.options[this.selectedIndex].value);return false}&quot;);
<a name="l101"><span class="linenum"> 101</span></a>      fontfam.id                    = 'fontname-tag';
<a name="l102"><span class="linenum"> 102</span></a>      
<a name="l103"><span class="linenum"> 103</span></a>      fontsiz                        = <a class="function" onClick="logFunction('_getbyid')" href="../_functions/_getbyid.html.gz" onMouseOver="funcPopup(event,'_getbyid')">_getbyid</a>('font-size');
<a name="l104"><span class="linenum"> 104</span></a>      fontsiz.onchange            = eval(&quot;function(){_self.doCommand('fontsize',this.options[this.selectedIndex].value);return false}&quot;);
<a name="l105"><span class="linenum"> 105</span></a>      fontsiz.id                    = 'fontsize-tag';
<a name="l106"><span class="linenum"> 106</span></a>  }
<a name="l107"><span class="linenum"> 107</span></a>  
<a name="l108"><span class="linenum"> 108</span></a>  weditor.prototype.doCommand = function(cmd,val,innerVal)
<a name="l109"><span class="linenum"> 109</span></a>  {
<a name="l110"><span class="linenum"> 110</span></a>      switch(cmd)
<a name="l111"><span class="linenum"> 111</span></a>      {
<a name="l112"><span class="linenum"> 112</span></a>          case 'fontname':
<a name="l113"><span class="linenum"> 113</span></a>          case 'fontsize':
<a name="l114"><span class="linenum"> 114</span></a>  <span class="comment">            // fix those nasty span tags for Gecko-based browsers</span>
<a name="l115"><span class="linenum"> 115</span></a>              if(is_gecko)
<a name="l116"><span class="linenum"> 116</span></a>              {
<a name="l117"><span class="linenum"> 117</span></a>                  this.wiframe.contentDocument.execCommand('useCSS',false,null);
<a name="l118"><span class="linenum"> 118</span></a>              }
<a name="l119"><span class="linenum"> 119</span></a>              
<a name="l120"><span class="linenum"> 120</span></a>              this.wiframe.contentDocument.execCommand(cmd,false,val);
<a name="l121"><span class="linenum"> 121</span></a>              
<a name="l122"><span class="linenum"> 122</span></a>              this.toolbar_enable(cmd);
<a name="l123"><span class="linenum"> 123</span></a>              break;
<a name="l124"><span class="linenum"> 124</span></a>          case 'url':
<a name="l125"><span class="linenum"> 125</span></a>              if(<a class="function" onClick="logFunction('_getbyid')" href="../_functions/_getbyid.html.gz" onMouseOver="funcPopup(event,'_getbyid')">_getbyid</a>('url-tag').className.classExists('on'))
<a name="l126"><span class="linenum"> 126</span></a>              {
<a name="l127"><span class="linenum"> 127</span></a>                  this.wiframe.contentDocument.execCommand(&quot;Unlink&quot;,false,null);
<a name="l128"><span class="linenum"> 128</span></a>                  this.toolbar_disable('url');
<a name="l129"><span class="linenum"> 129</span></a>              }
<a name="l130"><span class="linenum"> 130</span></a>              else {
<a name="l131"><span class="linenum"> 131</span></a>  <span class="comment">                // have we selected some text to link?</span>
<a name="l132"><span class="linenum"> 132</span></a>                  if(this.wiframe.contentDocument.selection)
<a name="l133"><span class="linenum"> 133</span></a>                  {
<a name="l134"><span class="linenum"> 134</span></a>                      currselection    = this.wiframe.contentDocument.selection.createRange().text;
<a name="l135"><span class="linenum"> 135</span></a>                  }
<a name="l136"><span class="linenum"> 136</span></a>                  else {
<a name="l137"><span class="linenum"> 137</span></a>                      currselection    = this.wiframe.contentDocument.getSelection();
<a name="l138"><span class="linenum"> 138</span></a>                  }
<a name="l139"><span class="linenum"> 139</span></a>                  
<a name="l140"><span class="linenum"> 140</span></a>                  if(currselection    == '')
<a name="l141"><span class="linenum"> 141</span></a>                  {
<a name="l142"><span class="linenum"> 142</span></a>                      alert('Please select the text you wish to link.');
<a name="l143"><span class="linenum"> 143</span></a>                      break;
<a name="l144"><span class="linenum"> 144</span></a>                  }
<a name="l145"><span class="linenum"> 145</span></a>              
<a name="l146"><span class="linenum"> 146</span></a>                  newurl                = prompt('Enter the URL you want to link to','http://');
<a name="l147"><span class="linenum"> 147</span></a>                  if(newurl           != null)
<a name="l148"><span class="linenum"> 148</span></a>                  {
<a name="l149"><span class="linenum"> 149</span></a>                      this.wiframe.contentDocument.execCommand(&quot;CreateLink&quot;,false,newurl);
<a name="l150"><span class="linenum"> 150</span></a>                  }
<a name="l151"><span class="linenum"> 151</span></a>              }
<a name="l152"><span class="linenum"> 152</span></a>              
<a name="l153"><span class="linenum"> 153</span></a>              this.toolbar_enable('url');
<a name="l154"><span class="linenum"> 154</span></a>              break;
<a name="l155"><span class="linenum"> 155</span></a>          case 'img':
<a name="l156"><span class="linenum"> 156</span></a>              newurl                = prompt('Enter the image you want to display','http://');
<a name="l157"><span class="linenum"> 157</span></a>              if(newurl           != null)
<a name="l158"><span class="linenum"> 158</span></a>              {
<a name="l159"><span class="linenum"> 159</span></a>                  this.wiframe.contentDocument.execCommand(&quot;InsertImage&quot;,false,newurl);
<a name="l160"><span class="linenum"> 160</span></a>              }
<a name="l161"><span class="linenum"> 161</span></a>              break;
<a name="l162"><span class="linenum"> 162</span></a>          default:
<a name="l163"><span class="linenum"> 163</span></a>  <span class="comment">            // fix those nasty span tags for Gecko-based browsers</span>
<a name="l164"><span class="linenum"> 164</span></a>              if(is_gecko)
<a name="l165"><span class="linenum"> 165</span></a>              {
<a name="l166"><span class="linenum"> 166</span></a>                  this.wiframe.contentDocument.execCommand('useCSS',false,null);
<a name="l167"><span class="linenum"> 167</span></a>              }
<a name="l168"><span class="linenum"> 168</span></a>              
<a name="l169"><span class="linenum"> 169</span></a>              this.wiframe.contentDocument.execCommand(cmd,false,null);
<a name="l170"><span class="linenum"> 170</span></a>              
<a name="l171"><span class="linenum"> 171</span></a>              if(this.opentags.contains(cmd))
<a name="l172"><span class="linenum"> 172</span></a>              {
<a name="l173"><span class="linenum"> 173</span></a>                  this.toolbar_disable(cmd);
<a name="l174"><span class="linenum"> 174</span></a>              }
<a name="l175"><span class="linenum"> 175</span></a>              else {
<a name="l176"><span class="linenum"> 176</span></a>                  this.toolbar_enable(cmd);
<a name="l177"><span class="linenum"> 177</span></a>              }
<a name="l178"><span class="linenum"> 178</span></a>              
<a name="l179"><span class="linenum"> 179</span></a>              break;
<a name="l180"><span class="linenum"> 180</span></a>      }
<a name="l181"><span class="linenum"> 181</span></a>      
<a name="l182"><span class="linenum"> 182</span></a>      this.wiframe.focus();
<a name="l183"><span class="linenum"> 183</span></a>      return false;
<a name="l184"><span class="linenum"> 184</span></a>  }
<a name="l185"><span class="linenum"> 185</span></a>  
<a name="l186"><span class="linenum"> 186</span></a>  weditor.prototype.add_on_submit = function()
<a name="l187"><span class="linenum"> 187</span></a>  {
<a name="l188"><span class="linenum"> 188</span></a>      var _self                    = this;
<a name="l189"><span class="linenum"> 189</span></a>      
<a name="l190"><span class="linenum"> 190</span></a>      if(typeof this.wform        == 'undefined')
<a name="l191"><span class="linenum"> 191</span></a>      {
<a name="l192"><span class="linenum"> 192</span></a>          var wform                = this.wcontainer.parentNode;
<a name="l193"><span class="linenum"> 193</span></a>          while(wform.nodeName.toLowerCase()!='form')
<a name="l194"><span class="linenum"> 194</span></a>          {
<a name="l195"><span class="linenum"> 195</span></a>              wform                = wform.parentNode;
<a name="l196"><span class="linenum"> 196</span></a>          }
<a name="l197"><span class="linenum"> 197</span></a>      }
<a name="l198"><span class="linenum"> 198</span></a>      else {
<a name="l199"><span class="linenum"> 199</span></a>          wform                    = this.wform;
<a name="l200"><span class="linenum"> 200</span></a>      }
<a name="l201"><span class="linenum"> 201</span></a>      
<a name="l202"><span class="linenum"> 202</span></a>      onsubmitbefore                = wform.onsubmit;
<a name="l203"><span class="linenum"> 203</span></a>      
<a name="l204"><span class="linenum"> 204</span></a>      if(typeof wform.onsubmit   != 'function')
<a name="l205"><span class="linenum"> 205</span></a>      {
<a name="l206"><span class="linenum"> 206</span></a>          wform.onsubmit            = function()
<a name="l207"><span class="linenum"> 207</span></a>          {
<a name="l208"><span class="linenum"> 208</span></a>              return _self.on_submit();
<a name="l209"><span class="linenum"> 209</span></a>          }
<a name="l210"><span class="linenum"> 210</span></a>      }
<a name="l211"><span class="linenum"> 211</span></a>      else {
<a name="l212"><span class="linenum"> 212</span></a>          wform.onsubmit            = function()
<a name="l213"><span class="linenum"> 213</span></a>          {
<a name="l214"><span class="linenum"> 214</span></a>              _self.on_submit();
<a name="l215"><span class="linenum"> 215</span></a>              return onsubmitbefore();
<a name="l216"><span class="linenum"> 216</span></a>          }
<a name="l217"><span class="linenum"> 217</span></a>      }
<a name="l218"><span class="linenum"> 218</span></a>      
<a name="l219"><span class="linenum"> 219</span></a>      return true;
<a name="l220"><span class="linenum"> 220</span></a>  }
<a name="l221"><span class="linenum"> 221</span></a>  
<a name="l222"><span class="linenum"> 222</span></a>  weditor.prototype.on_submit = function()
<a name="l223"><span class="linenum"> 223</span></a>  {
<a name="l224"><span class="linenum"> 224</span></a>      if(this.wysiwyg)
<a name="l225"><span class="linenum"> 225</span></a>      {
<a name="l226"><span class="linenum"> 226</span></a>  <span class="comment">        //this.convert_spans(1);</span>
<a name="l227"><span class="linenum"> 227</span></a>  <span class="comment">        //this.winput.value            = this.convert_to_bbcode(this.wiframe.contentDocument.getElementsByTagName('body')[0].innerHTML);</span>
<a name="l228"><span class="linenum"> 228</span></a>          this.winput.value            = this.wiframe.contentDocument.getElementsByTagName('body')[0].innerHTML;
<a name="l229"><span class="linenum"> 229</span></a>      }
<a name="l230"><span class="linenum"> 230</span></a>      else {
<a name="l231"><span class="linenum"> 231</span></a>          this.winput.value            = this.wtextbox.value;
<a name="l232"><span class="linenum"> 232</span></a>      }
<a name="l233"><span class="linenum"> 233</span></a>      
<a name="l234"><span class="linenum"> 234</span></a>      return true;
<a name="l235"><span class="linenum"> 235</span></a>  }
<a name="l236"><span class="linenum"> 236</span></a>  
<a name="l237"><span class="linenum"> 237</span></a>  weditor.prototype.init_editor = function()
<a name="l238"><span class="linenum"> 238</span></a>  {
<a name="l239"><span class="linenum"> 239</span></a>      var _self                    = this;
<a name="l240"><span class="linenum"> 240</span></a>  
<a name="l241"><span class="linenum"> 241</span></a>      try
<a name="l242"><span class="linenum"> 242</span></a>      {
<a name="l243"><span class="linenum"> 243</span></a>          this.wiframe.contentDocument.designMode= 'on';
<a name="l244"><span class="linenum"> 244</span></a>      }
<a name="l245"><span class="linenum"> 245</span></a>      catch(e)
<a name="l246"><span class="linenum"> 246</span></a>      {
<a name="l247"><span class="linenum"> 247</span></a>          setTimeout(function() { _self.init_editor() },250);
<a name="l248"><span class="linenum"> 248</span></a>          return false;
<a name="l249"><span class="linenum"> 249</span></a>      }
<a name="l250"><span class="linenum"> 250</span></a>      
<a name="l251"><span class="linenum"> 251</span></a>      this.wcontainer.style.visibility    = 'visible';
<a name="l252"><span class="linenum"> 252</span></a>      this.wtextarea.style.visibility        = 'visible';
<a name="l253"><span class="linenum"> 253</span></a>      
<a name="l254"><span class="linenum"> 254</span></a>  <span class="comment">    // add update listeners so we can select the right items on the toolbar</span>
<a name="l255"><span class="linenum"> 255</span></a>      if(document.addEventListener)
<a name="l256"><span class="linenum"> 256</span></a>      {
<a name="l257"><span class="linenum"> 257</span></a>          this.wiframe.contentDocument.addEventListener('keyup',function(){_self.toolbar_update();},false);
<a name="l258"><span class="linenum"> 258</span></a>          this.wiframe.contentDocument.addEventListener('mouseup',function(){_self.toolbar_update();},false);
<a name="l259"><span class="linenum"> 259</span></a>      }
<a name="l260"><span class="linenum"> 260</span></a>      else {
<a name="l261"><span class="linenum"> 261</span></a>          this.wiframe.contentDocument.attachEvent('onkeyup',function(){_self.toolbar_update();});
<a name="l262"><span class="linenum"> 262</span></a>          this.wiframe.contentDocument.attachEvent('onmouseup',function(){_self.toolbar_update();});
<a name="l263"><span class="linenum"> 263</span></a>      }
<a name="l264"><span class="linenum"> 264</span></a>      
<a name="l265"><span class="linenum"> 265</span></a>      return true;
<a name="l266"><span class="linenum"> 266</span></a>  }
<a name="l267"><span class="linenum"> 267</span></a>  
<a name="l268"><span class="linenum"> 268</span></a>  weditor.prototype.insert_text = function(towrite)
<a name="l269"><span class="linenum"> 269</span></a>  {
<a name="l270"><span class="linenum"> 270</span></a>      var _self                    = this;
<a name="l271"><span class="linenum"> 271</span></a>      
<a name="l272"><span class="linenum"> 272</span></a>      writemeh                    = &quot;\
<a name="l273"><span class="linenum"> 273</span></a>  &lt;html&gt;\
<a name="l274"><span class="linenum"> 274</span></a>  &lt;head&gt;\
<a name="l275"><span class="linenum"> 275</span></a>  &lt;style type='text/css'&gt;\
<a name="l276"><span class="linenum"> 276</span></a>      body\
<a name="l277"><span class="linenum"> 277</span></a>      {\
<a name="l278"><span class="linenum"> 278</span></a>          margin:2px;\
<a name="l279"><span class="linenum"> 279</span></a>          border:0px;\
<a name="l280"><span class="linenum"> 280</span></a>          font-family:verdana;\
<a name="l281"><span class="linenum"> 281</span></a>          font-size:80%;\
<a name="l282"><span class="linenum"> 282</span></a>          background-color:#fff;\
<a name="l283"><span class="linenum"> 283</span></a>          color:#000;\
<a name="l284"><span class="linenum"> 284</span></a>      }\
<a name="l285"><span class="linenum"> 285</span></a>  &lt;/style&gt;\
<a name="l286"><span class="linenum"> 286</span></a>  &lt;/head&gt;\
<a name="l287"><span class="linenum"> 287</span></a>  &lt;body id='tehbody'&gt;&quot;;
<a name="l288"><span class="linenum"> 288</span></a>      writemeh                   += towrite;
<a name="l289"><span class="linenum"> 289</span></a>      writemeh                   += &quot;\
<a name="l290"><span class="linenum"> 290</span></a>  &lt;/body&gt;\
<a name="l291"><span class="linenum"> 291</span></a>  &lt;/html&gt;&quot;;
<a name="l292"><span class="linenum"> 292</span></a>      
<a name="l293"><span class="linenum"> 293</span></a>      this.wiframe.contentDocument.open();
<a name="l294"><span class="linenum"> 294</span></a>      this.wiframe.contentDocument.<a class="function" onClick="logFunction('write')" href="../_functions/write.html.gz" onMouseOver="funcPopup(event,'write')">write</a>(writemeh);
<a name="l295"><span class="linenum"> 295</span></a>      this.wiframe.contentDocument.close();
<a name="l296"><span class="linenum"> 296</span></a>  }
<a name="l297"><span class="linenum"> 297</span></a>  
<a name="l298"><span class="linenum"> 298</span></a>  weditor.prototype.smiley        = function(salt,surl)
<a name="l299"><span class="linenum"> 299</span></a>  {
<a name="l300"><span class="linenum"> 300</span></a>      var _self                    = this;
<a name="l301"><span class="linenum"> 301</span></a>      
<a name="l302"><span class="linenum"> 302</span></a>  <span class="comment">    // insert smiley</span>
<a name="l303"><span class="linenum"> 303</span></a>      this.wiframe.contentDocument.execCommand(&quot;InsertImage&quot;,false,surl);
<a name="l304"><span class="linenum"> 304</span></a>      
<a name="l305"><span class="linenum"> 305</span></a>  <span class="comment">    //this.insertHTML(&quot;&lt;!--SMILEY:&quot;+salt+&quot;--&gt;&lt;img src='&quot;+surl+&quot;' alt='&quot;+salt+&quot;' /&gt;&lt;!--/SMILEY:&quot;+salt+&quot;--&gt;&quot;);</span>
<a name="l306"><span class="linenum"> 306</span></a>  }
<a name="l307"><span class="linenum"> 307</span></a>  
<a name="l308"><span class="linenum"> 308</span></a>  weditor.prototype.insertHTML    = function(thtml)
<a name="l309"><span class="linenum"> 309</span></a>  {
<a name="l310"><span class="linenum"> 310</span></a>      var _self                    = this;
<a name="l311"><span class="linenum"> 311</span></a>      
<a name="l312"><span class="linenum"> 312</span></a>      selection                    = this.wiframe.contentWindow.getSelection();
<a name="l313"><span class="linenum"> 313</span></a>      selection.pasteHTML(thtml);
<a name="l314"><span class="linenum"> 314</span></a>  }
<a name="l315"><span class="linenum"> 315</span></a>  
<a name="l316"><span class="linenum"> 316</span></a>  weditor.prototype.spell_check    = function()
<a name="l317"><span class="linenum"> 317</span></a>  {
<a name="l318"><span class="linenum"> 318</span></a>      var _self                    = this;
<a name="l319"><span class="linenum"> 319</span></a>      
<a name="l320"><span class="linenum"> 320</span></a>      http.request_func            = function()
<a name="l321"><span class="linenum"> 321</span></a>      {
<a name="l322"><span class="linenum"> 322</span></a>          response                = http.req.responseText;
<a name="l323"><span class="linenum"> 323</span></a>      }
<a name="l324"><span class="linenum"> 324</span></a>      
<a name="l325"><span class="linenum"> 325</span></a>      http.open('');
<a name="l326"><span class="linenum"> 326</span></a>  }
<a name="l327"><span class="linenum"> 327</span></a>  
<a name="l328"><span class="linenum"> 328</span></a>  weditor.prototype.toolbar_update= function(secondtime)
<a name="l329"><span class="linenum"> 329</span></a>  {
<a name="l330"><span class="linenum"> 330</span></a>      var _self                    = this;
<a name="l331"><span class="linenum"> 331</span></a>  
<a name="l332"><span class="linenum"> 332</span></a>      if(!secondtime)
<a name="l333"><span class="linenum"> 333</span></a>      {
<a name="l334"><span class="linenum"> 334</span></a>  <span class="comment">        // I need to do this, or so I'm told</span>
<a name="l335"><span class="linenum"> 335</span></a>          setTimeout(function(){_self.toolbar_update(true);return true;},500);
<a name="l336"><span class="linenum"> 336</span></a>      }
<a name="l337"><span class="linenum"> 337</span></a>  
<a name="l338"><span class="linenum"> 338</span></a>  <span class="comment">    // disable all toolbar items</span>
<a name="l339"><span class="linenum"> 339</span></a>      for(i=0;i&lt;=this.toolbaritems.length;i++)
<a name="l340"><span class="linenum"> 340</span></a>      {
<a name="l341"><span class="linenum"> 341</span></a>          thisobj                    = <a class="function" onClick="logFunction('_getbyid')" href="../_functions/_getbyid.html.gz" onMouseOver="funcPopup(event,'_getbyid')">_getbyid</a>(this.toolbaritems[i]+'-tag');
<a name="l342"><span class="linenum"> 342</span></a>          try
<a name="l343"><span class="linenum"> 343</span></a>          {
<a name="l344"><span class="linenum"> 344</span></a>              thisobj.className    = '';
<a name="l345"><span class="linenum"> 345</span></a>          }
<a name="l346"><span class="linenum"> 346</span></a>          catch(e)
<a name="l347"><span class="linenum"> 347</span></a>          {
<a name="l348"><span class="linenum"> 348</span></a>  <span class="comment">            // whatever</span>
<a name="l349"><span class="linenum"> 349</span></a>          }
<a name="l350"><span class="linenum"> 350</span></a>          
<a name="l351"><span class="linenum"> 351</span></a>          this.opentags.length    = 0;
<a name="l352"><span class="linenum"> 352</span></a>      }
<a name="l353"><span class="linenum"> 353</span></a>      
<a name="l354"><span class="linenum"> 354</span></a>      if(this.wiframe.contentDocument.selection)
<a name="l355"><span class="linenum"> 355</span></a>      {
<a name="l356"><span class="linenum"> 356</span></a>          currselection    = this.wiframe.contentDocument.selection.createRange().text;
<a name="l357"><span class="linenum"> 357</span></a>          selrange        = currselection.createRange();
<a name="l358"><span class="linenum"> 358</span></a>          try
<a name="l359"><span class="linenum"> 359</span></a>          {
<a name="l360"><span class="linenum"> 360</span></a>              selparentnode= selrange.parentElement();
<a name="l361"><span class="linenum"> 361</span></a>          }
<a name="l362"><span class="linenum"> 362</span></a>          catch(e)
<a name="l363"><span class="linenum"> 363</span></a>          {
<a name="l364"><span class="linenum"> 364</span></a>  <span class="comment">            // something died</span>
<a name="l365"><span class="linenum"> 365</span></a>              return false;
<a name="l366"><span class="linenum"> 366</span></a>          }
<a name="l367"><span class="linenum"> 367</span></a>      }
<a name="l368"><span class="linenum"> 368</span></a>      else {
<a name="l369"><span class="linenum"> 369</span></a>          currselection    = this.wiframe.contentWindow.getSelection();
<a name="l370"><span class="linenum"> 370</span></a>          selrange        = currselection.getRangeAt(0);
<a name="l371"><span class="linenum"> 371</span></a>          selparentnode    = selrange.commonAncestorContainer;
<a name="l372"><span class="linenum"> 372</span></a>      }
<a name="l373"><span class="linenum"> 373</span></a>      
<a name="l374"><span class="linenum"> 374</span></a>      while(selparentnode.nodeType==3)
<a name="l375"><span class="linenum"> 375</span></a>      {
<a name="l376"><span class="linenum"> 376</span></a>          selparentnode    = selparentnode.parentNode;
<a name="l377"><span class="linenum"> 377</span></a>      }
<a name="l378"><span class="linenum"> 378</span></a>      
<a name="l379"><span class="linenum"> 379</span></a>      while(selparentnode.nodeName.toLowerCase()!= 'body')
<a name="l380"><span class="linenum"> 380</span></a>      {
<a name="l381"><span class="linenum"> 381</span></a>          switch(selparentnode.nodeName.toLowerCase())
<a name="l382"><span class="linenum"> 382</span></a>          {    
<a name="l383"><span class="linenum"> 383</span></a>              case 'a':
<a name="l384"><span class="linenum"> 384</span></a>                  this.toolbar_enable('url');
<a name="l385"><span class="linenum"> 385</span></a>                  break;
<a name="l386"><span class="linenum"> 386</span></a>              case 'b':
<a name="l387"><span class="linenum"> 387</span></a>                  this.toolbar_enable('bold');
<a name="l388"><span class="linenum"> 388</span></a>                  break;
<a name="l389"><span class="linenum"> 389</span></a>              case 'i':
<a name="l390"><span class="linenum"> 390</span></a>                  this.toolbar_enable('italic');
<a name="l391"><span class="linenum"> 391</span></a>                  break;
<a name="l392"><span class="linenum"> 392</span></a>              case 'u':
<a name="l393"><span class="linenum"> 393</span></a>                  this.toolbar_enable('underline');
<a name="l394"><span class="linenum"> 394</span></a>                  break;
<a name="l395"><span class="linenum"> 395</span></a>          }
<a name="l396"><span class="linenum"> 396</span></a>          
<a name="l397"><span class="linenum"> 397</span></a>          selparentnode        = selparentnode.parentNode;
<a name="l398"><span class="linenum"> 398</span></a>      }
<a name="l399"><span class="linenum"> 399</span></a>  }
<a name="l400"><span class="linenum"> 400</span></a>  
<a name="l401"><span class="linenum"> 401</span></a>  weditor.prototype.toolbar_enable= function(itemid)
<a name="l402"><span class="linenum"> 402</span></a>  {
<a name="l403"><span class="linenum"> 403</span></a>      try
<a name="l404"><span class="linenum"> 404</span></a>      {
<a name="l405"><span class="linenum"> 405</span></a>          <a class="function" onClick="logFunction('_getbyid')" href="../_functions/_getbyid.html.gz" onMouseOver="funcPopup(event,'_getbyid')">_getbyid</a>(itemid+'-tag').className= 'active';
<a name="l406"><span class="linenum"> 406</span></a>      }
<a name="l407"><span class="linenum"> 407</span></a>      catch(e)
<a name="l408"><span class="linenum"> 408</span></a>      {
<a name="l409"><span class="linenum"> 409</span></a>          alert(itemid);
<a name="l410"><span class="linenum"> 410</span></a>          return false;
<a name="l411"><span class="linenum"> 411</span></a>      }
<a name="l412"><span class="linenum"> 412</span></a>      
<a name="l413"><span class="linenum"> 413</span></a>      this.opentags[this.opentags.length+1]= itemid;
<a name="l414"><span class="linenum"> 414</span></a>      return true;
<a name="l415"><span class="linenum"> 415</span></a>  }
<a name="l416"><span class="linenum"> 416</span></a>  
<a name="l417"><span class="linenum"> 417</span></a>  weditor.prototype.toolbar_disable= function(itemid)
<a name="l418"><span class="linenum"> 418</span></a>  {
<a name="l419"><span class="linenum"> 419</span></a>      try
<a name="l420"><span class="linenum"> 420</span></a>      {
<a name="l421"><span class="linenum"> 421</span></a>          <a class="function" onClick="logFunction('_getbyid')" href="../_functions/_getbyid.html.gz" onMouseOver="funcPopup(event,'_getbyid')">_getbyid</a>(itemid+'-tag').className= '';
<a name="l422"><span class="linenum"> 422</span></a>      }
<a name="l423"><span class="linenum"> 423</span></a>      catch(e)
<a name="l424"><span class="linenum"> 424</span></a>      {
<a name="l425"><span class="linenum"> 425</span></a>          return false;
<a name="l426"><span class="linenum"> 426</span></a>      }
<a name="l427"><span class="linenum"> 427</span></a>      
<a name="l428"><span class="linenum"> 428</span></a>      for(i=0;i&lt;=this.opentags.length;i++)
<a name="l429"><span class="linenum"> 429</span></a>      {
<a name="l430"><span class="linenum"> 430</span></a>          if(this.opentags[i]        == itemid)
<a name="l431"><span class="linenum"> 431</span></a>          {
<a name="l432"><span class="linenum"> 432</span></a>              this.opentags[i]    = '';
<a name="l433"><span class="linenum"> 433</span></a>          }
<a name="l434"><span class="linenum"> 434</span></a>      }
<a name="l435"><span class="linenum"> 435</span></a>      return true;
<a name="l436"><span class="linenum"> 436</span></a>  }
<a name="l437"><span class="linenum"> 437</span></a>  
<a name="l438"><span class="linenum"> 438</span></a>  String.prototype.classExists = function(theClass)
<a name="l439"><span class="linenum"> 439</span></a>  {
<a name="l440"><span class="linenum"> 440</span></a>      var regString = &quot;(^| )&quot; + theClass + &quot;\W*&quot;;
<a name="l441"><span class="linenum"> 441</span></a>      var regExpression = new RegExp(regString);
<a name="l442"><span class="linenum"> 442</span></a>      
<a name="l443"><span class="linenum"> 443</span></a>      if (regExpression.test(this))
<a name="l444"><span class="linenum"> 444</span></a>      {
<a name="l445"><span class="linenum"> 445</span></a>          return true;
<a name="l446"><span class="linenum"> 446</span></a>      }
<a name="l447"><span class="linenum"> 447</span></a>      
<a name="l448"><span class="linenum"> 448</span></a>      return false;
<a name="l449"><span class="linenum"> 449</span></a>  }
<a name="l450"><span class="linenum"> 450</span></a>  
<a name="l451"><span class="linenum"> 451</span></a>  <span class="comment">// http://www.ditchnet.org/wp/2005/04/04/enhance-your-javascript-arrays/</span>
<a name="l452"><span class="linenum"> 452</span></a>  Array.prototype.contains = function (element) {
<a name="l453"><span class="linenum"> 453</span></a>      for (var i = 0; i &lt; this.length; i++) {
<a name="l454"><span class="linenum"> 454</span></a>          if (this[i] == element) {
<a name="l455"><span class="linenum"> 455</span></a>              return true;
<a name="l456"><span class="linenum"> 456</span></a>          }
<a name="l457"><span class="linenum"> 457</span></a>      }
<a name="l458"><span class="linenum"> 458</span></a>      return false;
<a name="l459"><span class="linenum"> 459</span></a>  };
<a name="l460"><span class="linenum"> 460</span></a>  
<a name="l461"><span class="linenum"> 461</span></a>  <span class="comment">// FOR COMPATIBILITY</span>
<a name="l462"><span class="linenum"> 462</span></a>  
<a name="l463"><span class="linenum"> 463</span></a>  function <a class="function" onClick="logFunction('smiley')" href="../_functions/smiley.html.gz" onMouseOver="funcPopup(event,'smiley')">smiley</a>(surl,salt)
<a name="l464"><span class="linenum"> 464</span></a>  {
<a name="l465"><span class="linenum"> 465</span></a>      weditor.<a class="function" onClick="logFunction('smiley')" href="../_functions/smiley.html.gz" onMouseOver="funcPopup(event,'smiley')">smiley</a>(surl,salt);
<a name="l466"><span class="linenum"> 466</span></a>  }
<a name="l467"><span class="linenum"> 467</span></a>  
<a name="l468"><span class="linenum"> 468</span></a>  var tag_open                = new Array();
<a name="l469"><span class="linenum"> 469</span></a>      tag_open['font_family']    = false;
<a name="l470"><span class="linenum"> 470</span></a>      tag_open['font_size']    = false;
<a name="l471"><span class="linenum"> 471</span></a>      tag_open['b']            = false;
<a name="l472"><span class="linenum"> 472</span></a>      tag_open['u']            = false;
<a name="l473"><span class="linenum"> 473</span></a>      tag_open['i']            = false;
<a name="l474"><span class="linenum"> 474</span></a>      tag_open['color']        = false;
<a name="l475"><span class="linenum"> 475</span></a>      tag_open['bgcolor']        = false;
<a name="l476"><span class="linenum"> 476</span></a>      tag_open['url']            = false;
<a name="l477"><span class="linenum"> 477</span></a>      tag_open['img']            = false;
<a name="l478"><span class="linenum"> 478</span></a>      tag_open['code']        = false;
<a name="l479"><span class="linenum"> 479</span></a>      tag_open['quote']        = false;
<a name="l480"><span class="linenum"> 480</span></a>  
<a name="l481"><span class="linenum"> 481</span></a>  
<a name="l482"><span class="linenum"> 482</span></a>  function <a class="function" onClick="logFunction('bbcode')" href="../_functions/bbcode.html.gz" onMouseOver="funcPopup(event,'bbcode')">bbcode</a>(code,val,val2)
<a name="l483"><span class="linenum"> 483</span></a>  {
<a name="l484"><span class="linenum"> 484</span></a>      if(typeof(val)                    == 'undefined')
<a name="l485"><span class="linenum"> 485</span></a>      {
<a name="l486"><span class="linenum"> 486</span></a>          val                            = '';
<a name="l487"><span class="linenum"> 487</span></a>      }
<a name="l488"><span class="linenum"> 488</span></a>      
<a name="l489"><span class="linenum"> 489</span></a>      if(typeof(val2)                    == 'undefined')
<a name="l490"><span class="linenum"> 490</span></a>      {
<a name="l491"><span class="linenum"> 491</span></a>          cafter                        = '';
<a name="l492"><span class="linenum"> 492</span></a>      }
<a name="l493"><span class="linenum"> 493</span></a>      else {
<a name="l494"><span class="linenum"> 494</span></a>          cafter                        = '='+val2;
<a name="l495"><span class="linenum"> 495</span></a>      }
<a name="l496"><span class="linenum"> 496</span></a>  
<a name="l497"><span class="linenum"> 497</span></a>      if(ta_obj.isTextEdit)                        // exploder
<a name="l498"><span class="linenum"> 498</span></a>      {
<a name="l499"><span class="linenum"> 499</span></a>          ta_obj.focus();
<a name="l500"><span class="linenum"> 500</span></a>          var selected                = document.selection;
<a name="l501"><span class="linenum"> 501</span></a>          var range                   = selected.createRange();
<a name="l502"><span class="linenum"> 502</span></a>          range.colapse;
<a name="l503"><span class="linenum"> 503</span></a>  
<a name="l504"><span class="linenum"> 504</span></a>          if((selected.type=='Text' || selected.type=='None') &amp;&amp; range!=null)
<a name="l505"><span class="linenum"> 505</span></a>          {
<a name="l506"><span class="linenum"> 506</span></a>              middle                    = range.text;
<a name="l507"><span class="linenum"> 507</span></a>  
<a name="l508"><span class="linenum"> 508</span></a>              if(val                   != '')
<a name="l509"><span class="linenum"> 509</span></a>              {
<a name="l510"><span class="linenum"> 510</span></a>                  middle                = '['+code+cafter+']'+val+'[/'+code+']';
<a name="l511"><span class="linenum"> 511</span></a>              }
<a name="l512"><span class="linenum"> 512</span></a>              else if((sel_start-sel_end)!=0)
<a name="l513"><span class="linenum"> 513</span></a>              {
<a name="l514"><span class="linenum"> 514</span></a>                  middle                = '['+code+cafter+']'+middle+'[/'+code+']';
<a name="l515"><span class="linenum"> 515</span></a>              }
<a name="l516"><span class="linenum"> 516</span></a>              else {
<a name="l517"><span class="linenum"> 517</span></a>                  if(tag_open[code]==true)
<a name="l518"><span class="linenum"> 518</span></a>                  {
<a name="l519"><span class="linenum"> 519</span></a>                      middle            = middle+'[/'+code+']';
<a name="l520"><span class="linenum"> 520</span></a>                      try{<a class="function" onClick="logFunction('_getbyid')" href="../_functions/_getbyid.html.gz" onMouseOver="funcPopup(event,'_getbyid')">_getbyid</a>(code+'-tag').className='';}catch(e){};
<a name="l521"><span class="linenum"> 521</span></a>                      tag_open[code]    = false;
<a name="l522"><span class="linenum"> 522</span></a>                  }
<a name="l523"><span class="linenum"> 523</span></a>                  else {
<a name="l524"><span class="linenum"> 524</span></a>                      middle            = '['+code+cafter+']'+middle;
<a name="l525"><span class="linenum"> 525</span></a>                      try{<a class="function" onClick="logFunction('_getbyid')" href="../_functions/_getbyid.html.gz" onMouseOver="funcPopup(event,'_getbyid')">_getbyid</a>(code+'-tag').className='on';}catch(e){};
<a name="l526"><span class="linenum"> 526</span></a>                      tag_open[code]    = true;
<a name="l527"><span class="linenum"> 527</span></a>                  }
<a name="l528"><span class="linenum"> 528</span></a>              }
<a name="l529"><span class="linenum"> 529</span></a>  
<a name="l530"><span class="linenum"> 530</span></a>              range.text=middle;
<a name="l531"><span class="linenum"> 531</span></a>          }
<a name="l532"><span class="linenum"> 532</span></a>      }
<a name="l533"><span class="linenum"> 533</span></a>      else if(is_gecko)                        // mozilla or other Gecko-based
<a name="l534"><span class="linenum"> 534</span></a>      {
<a name="l535"><span class="linenum"> 535</span></a>          var sel_start                = ta_obj.selectionStart;
<a name="l536"><span class="linenum"> 536</span></a>          var scrollTop                = ta_obj.scrollTop;
<a name="l537"><span class="linenum"> 537</span></a>          var sel_end                  = ta_obj.selectionEnd;
<a name="l538"><span class="linenum"> 538</span></a>  
<a name="l539"><span class="linenum"> 539</span></a>          if(sel_end&lt;=2)
<a name="l540"><span class="linenum"> 540</span></a>          {
<a name="l541"><span class="linenum"> 541</span></a>              sel_end                    = ta_obj.textLength;
<a name="l542"><span class="linenum"> 542</span></a>          }
<a name="l543"><span class="linenum"> 543</span></a>  
<a name="l544"><span class="linenum"> 544</span></a>          var start                    = (ta_obj.value).substring(0,sel_start);
<a name="l545"><span class="linenum"> 545</span></a>          var middle                    = (ta_obj.value).substring(sel_start,sel_end);
<a name="l546"><span class="linenum"> 546</span></a>          var end                       = (ta_obj.value).substring(sel_end,ta_obj.textLength);
<a name="l547"><span class="linenum"> 547</span></a>  
<a name="l548"><span class="linenum"> 548</span></a>          if(val                   != '')
<a name="l549"><span class="linenum"> 549</span></a>          {
<a name="l550"><span class="linenum"> 550</span></a>              middle                = '['+code+cafter+']'+val+'[/'+code+']';
<a name="l551"><span class="linenum"> 551</span></a>          }
<a name="l552"><span class="linenum"> 552</span></a>          else if((sel_start-sel_end)!=0)
<a name="l553"><span class="linenum"> 553</span></a>          {
<a name="l554"><span class="linenum"> 554</span></a>              middle                = '['+code+cafter+']'+middle+'[/'+code+']';
<a name="l555"><span class="linenum"> 555</span></a>          }
<a name="l556"><span class="linenum"> 556</span></a>          else {
<a name="l557"><span class="linenum"> 557</span></a>              if(tag_open[code]==true)
<a name="l558"><span class="linenum"> 558</span></a>              {
<a name="l559"><span class="linenum"> 559</span></a>                  middle            = middle+'[/'+code+']';
<a name="l560"><span class="linenum"> 560</span></a>                  try{<a class="function" onClick="logFunction('_getbyid')" href="../_functions/_getbyid.html.gz" onMouseOver="funcPopup(event,'_getbyid')">_getbyid</a>(code+'-tag').className='';}catch(e){};
<a name="l561"><span class="linenum"> 561</span></a>                  tag_open[code]    = false;
<a name="l562"><span class="linenum"> 562</span></a>              }
<a name="l563"><span class="linenum"> 563</span></a>              else {
<a name="l564"><span class="linenum"> 564</span></a>                  middle            = '['+code+cafter+']'+middle;
<a name="l565"><span class="linenum"> 565</span></a>                  try{<a class="function" onClick="logFunction('_getbyid')" href="../_functions/_getbyid.html.gz" onMouseOver="funcPopup(event,'_getbyid')">_getbyid</a>(code+'-tag').className='on';}catch(e){};
<a name="l566"><span class="linenum"> 566</span></a>                  tag_open[code]    = true;
<a name="l567"><span class="linenum"> 567</span></a>              }
<a name="l568"><span class="linenum"> 568</span></a>          }
<a name="l569"><span class="linenum"> 569</span></a>  
<a name="l570"><span class="linenum"> 570</span></a>          ta_obj.value                = start+middle+end;
<a name="l571"><span class="linenum"> 571</span></a>          
<a name="l572"><span class="linenum"> 572</span></a>          sel_thingy                    = sel_start+middle.length;
<a name="l573"><span class="linenum"> 573</span></a>          
<a name="l574"><span class="linenum"> 574</span></a>          ta_obj.selectionStart        = sel_thingy;
<a name="l575"><span class="linenum"> 575</span></a>          ta_obj.selectionStart        = sel_thingy;
<a name="l576"><span class="linenum"> 576</span></a>          ta_obj.scrollTop            = scrollTop;
<a name="l577"><span class="linenum"> 577</span></a>      }
<a name="l578"><span class="linenum"> 578</span></a>      else {                                                    // Opera?! Safari?! Ebul?!
<a name="l579"><span class="linenum"> 579</span></a>          if(val                       != '')
<a name="l580"><span class="linenum"> 580</span></a>          {
<a name="l581"><span class="linenum"> 581</span></a>              code                    = &quot;[&quot;+code+cafter+&quot;]&quot;+val+&quot;[/&quot;+code+&quot;]&quot;;
<a name="l582"><span class="linenum"> 582</span></a>          }
<a name="l583"><span class="linenum"> 583</span></a>          else if(tag_open[code]==true)
<a name="l584"><span class="linenum"> 584</span></a>          {
<a name="l585"><span class="linenum"> 585</span></a>              code    = '[/'+code+']';
<a name="l586"><span class="linenum"> 586</span></a>              try{<a class="function" onClick="logFunction('_getbyid')" href="../_functions/_getbyid.html.gz" onMouseOver="funcPopup(event,'_getbyid')">_getbyid</a>(code+'-tag').className='';}catch(e){};
<a name="l587"><span class="linenum"> 587</span></a>              tag_open[code]=false;
<a name="l588"><span class="linenum"> 588</span></a>          }
<a name="l589"><span class="linenum"> 589</span></a>          else {
<a name="l590"><span class="linenum"> 590</span></a>              code    = '['+code+cafter+']';
<a name="l591"><span class="linenum"> 591</span></a>              try{<a class="function" onClick="logFunction('_getbyid')" href="../_functions/_getbyid.html.gz" onMouseOver="funcPopup(event,'_getbyid')">_getbyid</a>(code+'-tag').className='on';}catch(e){};
<a name="l592"><span class="linenum"> 592</span></a>              tag_open[code]=true;
<a name="l593"><span class="linenum"> 593</span></a>          }
<a name="l594"><span class="linenum"> 594</span></a>      }
<a name="l595"><span class="linenum"> 595</span></a>  
<a name="l596"><span class="linenum"> 596</span></a>      ta_obj.focus();
<a name="l597"><span class="linenum"> 597</span></a>      return false;
<a name="l598"><span class="linenum"> 598</span></a>  }
<a name="l599"><span class="linenum"> 599</span></a>  
<a name="l600"><span class="linenum"> 600</span></a>  function <a class="function" onClick="logFunction('spell_check')" href="../_functions/spell_check.html.gz" onMouseOver="funcPopup(event,'spell_check')">spell_check</a>(obj)
<a name="l601"><span class="linenum"> 601</span></a>  {
<a name="l602"><span class="linenum"> 602</span></a>      if(!http.req)
<a name="l603"><span class="linenum"> 603</span></a>      {
<a name="l604"><span class="linenum"> 604</span></a>          return true;
<a name="l605"><span class="linenum"> 605</span></a>      }
<a name="l606"><span class="linenum"> 606</span></a>  
<a name="l607"><span class="linenum"> 607</span></a>      checkit            = <a class="function" onClick="logFunction('_getbyid')" href="../_functions/_getbyid.html.gz" onMouseOver="funcPopup(event,'_getbyid')">_getbyid</a>(obj).contentDocument;
<a name="l608"><span class="linenum"> 608</span></a>      checkit_text    = checkit.getElementsByTagName('body')[0].innerHTML;
<a name="l609"><span class="linenum"> 609</span></a>      
<a name="l610"><span class="linenum"> 610</span></a>      check_div        = document.createElement('div');
<a name="l611"><span class="linenum"> 611</span></a>      check_div.id    = obj+'-div';
<a name="l612"><span class="linenum"> 612</span></a>      
<a name="l613"><span class="linenum"> 613</span></a>      checkit_words    = checkit_text.<a class="phpfunction" onClick="logFunction('split')" href="../_functions/split.html.gz" onMouseOver="phpfuncPopup(event,'split')">split</a>(' ');
<a name="l614"><span class="linenum"> 614</span></a>      
<a name="l615"><span class="linenum"> 615</span></a>      <a class="function" onClick="logFunction('_getbyid')" href="../_functions/_getbyid.html.gz" onMouseOver="funcPopup(event,'_getbyid')">_getbyid</a>(obj).style.display= 'none';
<a name="l616"><span class="linenum"> 616</span></a>      <a class="function" onClick="logFunction('_getbyid')" href="../_functions/_getbyid.html.gz" onMouseOver="funcPopup(event,'_getbyid')">_getbyid</a>(obj).parentNode.insertBefore(check_div,<a class="function" onClick="logFunction('_getbyid')" href="../_functions/_getbyid.html.gz" onMouseOver="funcPopup(event,'_getbyid')">_getbyid</a>(obj));
<a name="l617"><span class="linenum"> 617</span></a>      
<a name="l618"><span class="linenum"> 618</span></a>      http.request_func= function()
<a name="l619"><span class="linenum"> 619</span></a>      {
<a name="l620"><span class="linenum"> 620</span></a>          cdiv        = <a class="function" onClick="logFunction('_getbyid')" href="../_functions/_getbyid.html.gz" onMouseOver="funcPopup(event,'_getbyid')">_getbyid</a>(editor_frame_id+'-div');
<a name="l621"><span class="linenum"> 621</span></a>          cdiv.innerHTML= http.req.responseText;
<a name="l622"><span class="linenum"> 622</span></a>          
<a name="l623"><span class="linenum"> 623</span></a>          donebtnc    = document.createElement('div');
<a name="l624"><span class="linenum"> 624</span></a>          donebtnc.className= 'toolbar';
<a name="l625"><span class="linenum"> 625</span></a>          donebtnc.id    = &quot;done-btn&quot;;
<a name="l626"><span class="linenum"> 626</span></a>          
<a name="l627"><span class="linenum"> 627</span></a>              donebtn    = document.createElement('a');
<a name="l628"><span class="linenum"> 628</span></a>              donebtn.href= '#';
<a name="l629"><span class="linenum"> 629</span></a>              donebtn.onclick= eval(&quot;function(){<a class="function" onClick="logFunction('spell_check_done')" href="../_functions/spell_check_done.html.gz" onMouseOver="funcPopup(event,'spell_check_done')">spell_check_done</a>('&quot;+editor_frame_id+&quot;');return false;}&quot;);
<a name="l630"><span class="linenum"> 630</span></a>                  donebtnt= document.createTextNode('Done');
<a name="l631"><span class="linenum"> 631</span></a>                  donebtn.appendChild(donebtnt);
<a name="l632"><span class="linenum"> 632</span></a>              donebtnc.appendChild(donebtn);
<a name="l633"><span class="linenum"> 633</span></a>          <a class="function" onClick="logFunction('_getbyid')" href="../_functions/_getbyid.html.gz" onMouseOver="funcPopup(event,'_getbyid')">_getbyid</a>(editor_frame_id+'-div').parentNode.appendChild(donebtnc);
<a name="l634"><span class="linenum"> 634</span></a>      }
<a name="l635"><span class="linenum"> 635</span></a>      
<a name="l636"><span class="linenum"> 636</span></a>      http.open(icebb_base_url+'act=misc&amp;func=spellcheck&amp;xmlhttp=1&amp;string='+checkit_text);
<a name="l637"><span class="linenum"> 637</span></a>  
<a name="l638"><span class="linenum"> 638</span></a>      return false;
<a name="l639"><span class="linenum"> 639</span></a>  }
<a name="l640"><span class="linenum"> 640</span></a>  
<a name="l641"><span class="linenum"> 641</span></a>  function <a class="function" onClick="logFunction('spell_check_suggest')" href="../_functions/spell_check_suggest.html.gz" onMouseOver="funcPopup(event,'spell_check_suggest')">spell_check_suggest</a>(obj,word,wid)
<a name="l642"><span class="linenum"> 642</span></a>  {
<a name="l643"><span class="linenum"> 643</span></a>      var teh_obj        = obj;
<a name="l644"><span class="linenum"> 644</span></a>  
<a name="l645"><span class="linenum"> 645</span></a>      http.request_func= function()
<a name="l646"><span class="linenum"> 646</span></a>      {
<a name="l647"><span class="linenum"> 647</span></a>          menu        = document.createElement('div');
<a name="l648"><span class="linenum"> 648</span></a>          menu.className= 'border lightpadded menu';
<a name="l649"><span class="linenum"> 649</span></a>          menu.style.width= '200px';
<a name="l650"><span class="linenum"> 650</span></a>          menu.id        = 'word-'+wid+'-menu';
<a name="l651"><span class="linenum"> 651</span></a>          menul        = document.createElement('ul');
<a name="l652"><span class="linenum"> 652</span></a>      
<a name="l653"><span class="linenum"> 653</span></a>          response    = http.req.responseText;
<a name="l654"><span class="linenum"> 654</span></a>          responses    = response.<a class="phpfunction" onClick="logFunction('split')" href="../_functions/split.html.gz" onMouseOver="phpfuncPopup(event,'split')">split</a>(',');
<a name="l655"><span class="linenum"> 655</span></a>          for(i=0;i&lt;responses.length;i++)
<a name="l656"><span class="linenum"> 656</span></a>          {
<a name="l657"><span class="linenum"> 657</span></a>              if(i    &gt; 5)
<a name="l658"><span class="linenum"> 658</span></a>              {
<a name="l659"><span class="linenum"> 659</span></a>                  break;
<a name="l660"><span class="linenum"> 660</span></a>              }
<a name="l661"><span class="linenum"> 661</span></a>          
<a name="l662"><span class="linenum"> 662</span></a>              tli        = document.createElement('li');
<a name="l663"><span class="linenum"> 663</span></a>              tlia    = document.createElement('a');
<a name="l664"><span class="linenum"> 664</span></a>              tlia.href= '#';
<a name="l665"><span class="linenum"> 665</span></a>              tlia.onclick= eval(&quot;function(){<a class="function" onClick="logFunction('_getbyid')" href="../_functions/_getbyid.html.gz" onMouseOver="funcPopup(event,'_getbyid')">_getbyid</a>('word-&quot;+wid+&quot;').innerHTML=\&quot;&quot;+responses[i]+&quot; \&quot;;<a class="function" onClick="logFunction('close_menu')" href="../_functions/close_menu.html.gz" onMouseOver="funcPopup(event,'close_menu')">close_menu</a>(<a class="function" onClick="logFunction('_getbyid')" href="../_functions/_getbyid.html.gz" onMouseOver="funcPopup(event,'_getbyid')">_getbyid</a>('word-&quot;+wid+&quot;'));return false;}&quot;);
<a name="l666"><span class="linenum"> 666</span></a>              tehval    = document.createTextNode(responses[i]);
<a name="l667"><span class="linenum"> 667</span></a>              tlia.appendChild(tehval);
<a name="l668"><span class="linenum"> 668</span></a>              tli.appendChild(tlia);
<a name="l669"><span class="linenum"> 669</span></a>              menul.appendChild(tli);
<a name="l670"><span class="linenum"> 670</span></a>          }
<a name="l671"><span class="linenum"> 671</span></a>          
<a name="l672"><span class="linenum"> 672</span></a>          menu.appendChild(menul);
<a name="l673"><span class="linenum"> 673</span></a>          <a class="function" onClick="logFunction('_getbyid')" href="../_functions/_getbyid.html.gz" onMouseOver="funcPopup(event,'_getbyid')">_getbyid</a>(editor_frame_id+'-div').parentNode.appendChild(menu);
<a name="l674"><span class="linenum"> 674</span></a>          
<a name="l675"><span class="linenum"> 675</span></a>          <a class="function" onClick="logFunction('open_menu')" href="../_functions/open_menu.html.gz" onMouseOver="funcPopup(event,'open_menu')">open_menu</a>(teh_obj.id);
<a name="l676"><span class="linenum"> 676</span></a>      }
<a name="l677"><span class="linenum"> 677</span></a>      
<a name="l678"><span class="linenum"> 678</span></a>      http.open(icebb_base_url+'act=misc&amp;func=spellcheck&amp;suggest='+word);
<a name="l679"><span class="linenum"> 679</span></a>  }
<a name="l680"><span class="linenum"> 680</span></a>  
<a name="l681"><span class="linenum"> 681</span></a>  function <a class="function" onClick="logFunction('spell_check_done')" href="../_functions/spell_check_done.html.gz" onMouseOver="funcPopup(event,'spell_check_done')">spell_check_done</a>(obj)
<a name="l682"><span class="linenum"> 682</span></a>  {
<a name="l683"><span class="linenum"> 683</span></a>      newcontent        = <a class="function" onClick="logFunction('_getbyid')" href="../_functions/_getbyid.html.gz" onMouseOver="funcPopup(event,'_getbyid')">_getbyid</a>(obj+'-div').innerHTML;
<a name="l684"><span class="linenum"> 684</span></a>      
<a name="l685"><span class="linenum"> 685</span></a>      <a class="function" onClick="logFunction('_getbyid')" href="../_functions/_getbyid.html.gz" onMouseOver="funcPopup(event,'_getbyid')">_getbyid</a>(obj+'-div').parentNode.removeChild(<a class="function" onClick="logFunction('_getbyid')" href="../_functions/_getbyid.html.gz" onMouseOver="funcPopup(event,'_getbyid')">_getbyid</a>('done-btn'));
<a name="l686"><span class="linenum"> 686</span></a>      <a class="function" onClick="logFunction('_getbyid')" href="../_functions/_getbyid.html.gz" onMouseOver="funcPopup(event,'_getbyid')">_getbyid</a>(obj+'-div').parentNode.removeChild(<a class="function" onClick="logFunction('_getbyid')" href="../_functions/_getbyid.html.gz" onMouseOver="funcPopup(event,'_getbyid')">_getbyid</a>(obj+'-div'));
<a name="l687"><span class="linenum"> 687</span></a>      <a class="function" onClick="logFunction('_getbyid')" href="../_functions/_getbyid.html.gz" onMouseOver="funcPopup(event,'_getbyid')">_getbyid</a>(obj).style.display= 'block';
<a name="l688"><span class="linenum"> 688</span></a>  }
<a name="l689"><span class="linenum"> 689</span></a>  
<a name="l690"><span class="linenum"> 690</span></a>  function <a class="function" onClick="logFunction('_pop_color')" href="../_functions/_pop_color.html.gz" onMouseOver="funcPopup(event,'_pop_color')">_pop_color</a>()
<a name="l691"><span class="linenum"> 691</span></a>  {
<a name="l692"><span class="linenum"> 692</span></a>  }
<a name="l693"><span class="linenum"> 693</span></a>  
<a name="l694"><span class="linenum"> 694</span></a>  function <a class="function" onClick="logFunction('_pop_bgcolor')" href="../_functions/_pop_bgcolor.html.gz" onMouseOver="funcPopup(event,'_pop_bgcolor')">_pop_bgcolor</a>()
<a name="l695"><span class="linenum"> 695</span></a>  {
<a name="l696"><span class="linenum"> 696</span></a>  }
<a name="l697"><span class="linenum"> 697</span></a>  
<a name="l698"><span class="linenum"> 698</span></a>  <span class="comment">//window.onload=_init_wysiwyg;</span>
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'_pop_color': ['_pop_color', '', [['jscripts','wysiwyg.js',690],['jscripts','editor.js',187]], 3],
'_getbyid': ['_getbyid', '', [['includes/classes','error_handler.php',181],['includes/classes','error_handler.php',326],['skins/2','global.js',1],['jscripts','global.js',16]], 153],
'close_menu': ['close_menu', '', [['jscripts','menu.js',78]], 4],
'_pop_bgcolor': ['_pop_bgcolor', '', [['jscripts','wysiwyg.js',694],['jscripts','editor.js',191]], 3],
'spell_check_done': ['spell_check_done', '', [['jscripts','wysiwyg.js',681]], 1],
'spell_check_suggest': ['spell_check_suggest', '', [['jscripts','wysiwyg.js',641]], 1],
'bbcode': ['bbcode', '', [['jscripts','wysiwyg.js',482],['includes/classes','post_parser.php',73],['jscripts','editor.js',19]], 25],
'write': ['write', '', [['modules','pm.php',247]], 2],
'weditor': ['weditor', '', [['jscripts','wysiwyg.js',8]], 2],
'open_menu': ['open_menu', '', [['jscripts','menu.js',10]], 9],
'smiley': ['smiley', '', [['jscripts','wysiwyg.js',463],['jscripts','editor.js',137]], 5],
'spell_check': ['spell_check', '', [['jscripts','wysiwyg.js',600]], 2],
'split': ['split', '', [], 6]};
CLASS_DATA={
};
CONST_DATA={
};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<br />

<hr>

<table width="100%">
	
	<tr>
		<td colspan="3" valign="middle" align="center">
            <script type="text/javascript"><!--
			google_ad_client = "pub-9946645904786279";
			google_ad_width = 728;
			google_ad_height = 90;
			google_ad_format = "728x90_as";
			google_ad_channel ="";
			google_ad_type = "text_image";
			google_color_border = "FFFFFF";
			google_color_bg = "FFFFFF";
			google_color_link = "4088b8";
			google_color_url = "4088b8";
			google_color_text = "000000";
			//--></script>
			<script type="text/javascript"
 			src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
			</script>
        </td>
	</tr>

	<tr>
		<td align="center">
			[ Powered by <a href="http://phpxref.sourceforge.net/" target="_top">PHPXref</a></i> ]
    	</td>
    </tr>
    <tr>
		<td align="center">
			[ <a href="http://debian.org/" target="_top">Debian</a>
 			on <a href="http://www.xensource.com/" target="_top">Xen</a>
 			at <a href="http://www.xelhosting.com/" target="_top">Xelhosting</a> ]
		</td>
	</tr>

</table>

</body>

</html>
